<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentos de la Teoría de Juegos en Inteligencia Artificial</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            /* Colores principales - Tema futurista de IA */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --neural-gradient: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #f59e0b;
            --dark: #1e293b;
            --light: #f8fafc;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --neon-glow: 0 0 20px rgba(99, 102, 241, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        .book-container {
            width: 90vw;
            height: 90vh;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .book {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--light);
            color: var(--dark);
            border-radius: 15px;
            box-shadow: 
                var(--neon-glow),
                0 20px 40px rgba(0,0,0,0.3);
            padding: 3rem;
            overflow-y: auto;
            backface-visibility: hidden;
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            transform-origin: left center;
            display: block;
        }

        /* Página de portada sin fondo */
        .page#page1 {
            background: transparent;
            box-shadow: none;
            color: white;
        }

        .page-front {
            transform: rotateY(0deg);
            z-index: 10;
        }

        .page-back {
            transform: rotateY(0deg);
            z-index: 1;
            display: none;
        }

        .page.active {
            display: block;
            z-index: 10;
        }

        .page:not(.active) {
            display: none;
        }

        /* Navegación */
        .navigation {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            z-index: 100;
            transform: translateY(-50%);
            pointer-events: none;
        }

        .navigation .nav-btn {
            pointer-events: all;
        }

        .nav-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--neon-glow);
            margin: 0 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .nav-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
        }

        .nav-btn:active {
            transform: scale(0.95);
        }

        /* Botón Anexo Colab - Posición Inferior Derecha */
        .colab-btn-bottom {
            position: fixed;
            bottom: 5rem;
            right: 1.5rem;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 50%, #ff9ff3 100%);
            color: white;
            text-decoration: none;
            border: none;
            border-radius: 50px;
            padding: 0.8rem 1.2rem;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            overflow: hidden;
            z-index: 999;
            animation: pulse-glow 2s ease-in-out infinite;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            max-width: 180px;
        }

        .colab-btn-bottom:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.6);
            background: linear-gradient(135deg, #ff5252 0%, #d84315 50%, #e91e63 100%);
        }

        .colab-btn-bottom:active {
            transform: translateY(-1px) scale(1.02);
        }

        .colab-btn-bottom .colab-icon {
            font-size: 1.1rem;
            animation: rocket-bounce 1.5s ease-in-out infinite;
            flex-shrink: 0;
        }

        .colab-btn-bottom .colab-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            line-height: 1.2;
            min-width: 0;
        }

        .colab-btn-bottom .colab-main {
            font-size: 0.9rem;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
            white-space: nowrap;
        }

        .colab-btn-bottom .colab-sub {
            font-size: 0.7rem;
            opacity: 0.9;
            font-weight: 500;
            white-space: nowrap;
        }

        .colab-btn-bottom .colab-glow {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s ease;
        }

        .colab-btn-bottom:hover .colab-glow {
            left: 100%;
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            }
            50% {
                box-shadow: 0 8px 35px rgba(255, 107, 107, 0.7);
            }
        }

        @keyframes rocket-bounce {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            25% {
                transform: translateY(-2px) rotate(5deg);
            }
            75% {
                transform: translateY(-1px) rotate(-3deg);
            }
        }

        .page-counter {
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            background: rgba(30, 41, 59, 0.9);
            padding: 0.8rem 1.2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            color: white;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }

        /* Estilos de contenido específicos */
        .simple-cover {
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            text-align: center;
            position: relative;
            padding: 3rem 2rem;
            height: 100%;
            box-sizing: border-box;
        }

        .academic-header {
            margin-bottom: 2rem;
            z-index: 2;
            position: relative;
        }

        .institution-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .course-title {
            font-size: 1.1rem;
            font-weight: 500;
            opacity: 0.9;
            margin-bottom: 0;
            line-height: 1.4;
        }

        .main-title {
            font-size: 3.5rem;
            margin: 2rem 0 1.5rem 0;
            text-shadow: 0 5px 15px rgba(0,0,0,0.7);
            z-index: 2;
            position: relative;
            color: #ffffff;
            font-weight: 800;
            line-height: 1.2;
        }

        @keyframes title-glow {
            0%, 100% { 
                text-shadow: 0 5px 15px rgba(0,0,0,0.7); 
            }
            50% { 
                text-shadow: 0 5px 20px rgba(255,255,255,0.3); 
            }
        }

        .subtitle-main {
            font-size: 2rem;
            margin: 1rem 0;
            font-weight: 600;
            z-index: 2;
            position: relative;
            text-shadow: 0 3px 10px rgba(0,0,0,0.6);
            color: #ffffff;
            line-height: 1.3;
        }

        .subtitle-secondary {
            font-size: 1.4rem;
            margin: 1rem 0 2.5rem 0;
            font-weight: 500;
            opacity: 0.95;
            z-index: 2;
            position: relative;
            text-shadow: 0 2px 8px rgba(0,0,0,0.6);
            color: #ffffff;
            line-height: 1.4;
        }

        .author-section {
            margin: 2rem 0;
            z-index: 2;
            position: relative;
        }

        .author-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .author-name {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #ffffff;
            text-shadow: 0 2px 8px rgba(0,0,0,0.6);
            line-height: 1.3;
        }

        .student-id {
            font-size: 1.1rem;
            opacity: 0.9;
            margin: 0;
            color: #ffffff;
            text-shadow: 0 2px 6px rgba(0,0,0,0.6);
        }

        .academic-footer {
            margin-top: auto;
            z-index: 2;
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .year {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #ffffff;
            text-shadow: 0 2px 6px rgba(0,0,0,0.6);
        }

        .academic-type {
            font-size: 0.9rem;
            opacity: 0.8;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.6);
            margin: 0;
        }

        .author {
            position: absolute;
            bottom: 3rem;
            font-size: 1.1rem;
        }

        /* Diseños de páginas internas */
        .content-page {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            padding: 0;
        }

        .page-header {
            background: var(--gradient);
            color: white;
            padding: 2.5rem 3rem;
            margin: -3rem -3rem 3rem -3rem;
            border-radius: 15px 15px 0 0;
        }

        .page-header h2 {
            margin: 0;
            font-size: 2.2rem;
            font-weight: 700;
            text-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            height: calc(100% - 140px);
            padding: 0 1rem;
        }

        .text-content {
            overflow-y: auto;
            padding-right: 1.5rem;
            line-height: 1.6;
        }

        .text-content h3 {
            color: #2d3748;
            font-size: 1.4rem;
            font-weight: 600;
            margin: 2rem 0 1rem 0;
            border-left: 4px solid #667eea;
            padding-left: 1rem;
        }

        .text-content p {
            color: #4a5568;
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            text-align: justify;
        }

        .text-content ul {
            padding-left: 1.5rem;
            margin: 1.5rem 0;
        }

        .text-content li {
            color: #4a5568;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 0.8rem;
        }

        .visual-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            padding-left: 1rem;
        }

        /* Elementos de diseño */
        .metric-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .metric-card h4 {
            color: #2d3748;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .metric-card p {
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 0.8rem;
        }

        .concept-box {
            background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
            border: 2px solid var(--primary);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .concept-box h3 {
            color: #2d3748;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1rem;
            border-left: none !important;
            padding-left: 0 !important;
        }

        .concept-box p {
            color: #4a5568;
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 0;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 2rem;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Estilos para el simulador de juego */
        .simulator-interface {
            height: calc(100% - 140px);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            overflow-y: auto;
            padding: 0 1rem;
        }

        .page-header p {
            margin: 0.5rem 0 0 0;
            font-size: 1rem;
            opacity: 0.8;
        }

        /* Panel de Control */
        .control-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .strategy-selector h3 {
            margin: 0 0 1rem 0;
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .strategy-tabs {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.8rem;
        }

        .strategy-tab {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .strategy-tab:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .strategy-tab.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .strategy-icon {
            font-size: 1.5rem;
            display: block;
        }

        .strategy-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .strategy-desc {
            font-size: 0.75rem;
            opacity: 0.8;
        }

        /* Arena de Juego */
        .game-arena {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            flex: 1;
        }

        .players-section {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .player {
            text-align: center;
            background: linear-gradient(135deg, #ffffff 0%, #f7fafc 100%);
            border-radius: 16px;
            padding: 1.5rem;
            border: 2px solid #cbd5e0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .player:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .player-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }

        .player-header .avatar {
            font-size: 2.5rem;
        }

        .player-header h3 {
            font-size: 1.2rem;
            margin: 0;
            color: #2d3748;
            font-weight: 700;
        }

        .score-display {
            margin-bottom: 1rem;
        }

        .score-label {
            display: block;
            font-size: 0.85rem;
            color: #4a5568;
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .score {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary);
            display: block;
        }

        .choice-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .choice-icon {
            font-size: 3rem;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid #667eea;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .choice-icon:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .choice-label {
            font-size: 0.9rem;
            color: #2d3748;
            font-weight: 600;
            font-weight: 500;
        }

        /* Sección VS */
        .vs-section {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .vs-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), #764ba2);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .vs-circle span:first-child {
            font-size: 1.2rem;
            font-weight: 800;
        }

        .round-counter {
            display: flex;
            flex-direction: column;
            margin-top: 0.2rem;
        }

        .round-counter span:first-child {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        .round-counter span:last-child {
            font-size: 1rem;
            font-weight: 700;
        }

        .game-status {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            border: 2px solid #667eea;
            min-width: 200px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        /* Controles de Juego */
        .game-controls {
            margin: 2rem 0;
        }

        .game-controls h4 {
            text-align: center;
            color: #2d3748;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .choice-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .choice-btn {
            background: linear-gradient(135deg, #ffffff 0%, #f7fafc 100%);
            border: 3px solid #e2e8f0;
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .choice-btn:hover {
            border-color: var(--primary);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .choice-btn:hover .btn-name {
            color: white;
        }

        .choice-btn:hover .btn-win {
            color: rgba(255, 255, 255, 0.8);
        }

        .choice-btn:active {
            transform: translateY(-1px);
        }

        .btn-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        .btn-text {
            display: flex;
            flex-direction: column;
            text-align: left;
        }

        .btn-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.2rem;
            transition: color 0.3s ease;
        }

        .btn-win {
            font-size: 0.8rem;
            color: #4a5568;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        /* Panel de Estadísticas */
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 2px solid #e2e8f0;
        }

        .stat-item {
            text-align: center;
            background: linear-gradient(135deg, #ffffff 0%, #f7fafc 100%);
            padding: 1rem;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-color: #cbd5e0;
        }

        .stat-label {
            display: block;
            font-size: 0.8rem;
            color: #4a5568;
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2d3748;
        }

        .reset-btn {
            background: #e53e3e;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            background: #c53030;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(229, 62, 62, 0.3);
        }

        /* Panel de Información del Algoritmo */
        .algorithm-info {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            color: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 1rem;
            border: 2px solid #667eea;
            box-shadow: 0 4px 15px rgba(45, 55, 72, 0.3);
        }

        .algorithm-info h4 {
            margin: 0 0 0.8rem 0;
            font-size: 1.2rem;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .algorithm-info p {
            margin: 0 0 1rem 0;
            line-height: 1.5;
            opacity: 1;
            color: #f7fafc;
        }

        .algorithm-stats {
            display: flex;
            gap: 2rem;
            font-size: 0.85rem;
            opacity: 0.9;
            color: #e2e8f0;
        }

        .choices-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .choice {
            text-align: center;
            padding: 1.5rem;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 15px;
        }

        .choice-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
        }

        .game-controls {
            text-align: center;
            margin-bottom: 2rem;
        }

        .choice-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .choice-btn {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .strategy-selector {
            text-align: center;
            margin-bottom: 2rem;
        }

        .strategy-tabs {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .strategy-tab {
            background: rgba(99, 102, 241, 0.1);
            color: var(--dark);
            border: 2px solid transparent;
            padding: 0.8rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .strategy-tab.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary-dark);
        }

        .strategy-tab:hover {
            background: var(--primary-dark);
            color: white;
        }

        .game-result {
            text-align: center;
            padding: 1rem;
            background: rgba(245, 158, 11, 0.1);
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark);
        }

        /* Estilos para métricas dashboard */
        .metrics-dashboard {
            height: calc(100% - 120px);
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .metric-bars {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .metric-bar {
            display: grid;
            grid-template-columns: 100px 1fr 60px;
            align-items: center;
            gap: 1rem;
        }

        .bar {
            height: 20px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 10px;
            transition: width 1s ease;
        }

        .comparison-analysis {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 15px;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .analysis-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 0 0.5rem;
            }

            .text-content {
                padding-right: 0;
            }

            .visual-content {
                padding-left: 0;
            }

            .page-header {
                padding: 2rem 1.5rem;
                margin: -3rem -3rem 2rem -3rem;
            }

            .page-header h2 {
                font-size: 1.8rem;
            }

            .text-content h3 {
                font-size: 1.2rem;
            }

            .text-content p, .text-content li {
                font-size: 0.9rem;
            }

            .metric-card {
                padding: 1.5rem;
            }

            .concept-box {
                padding: 1.5rem;
                margin: 1.5rem 0;
            }
            
            .main-title {
                font-size: 2.8rem;
            }
            
            .subtitle-main {
                font-size: 1.8rem;
            }
            
            .subtitle-secondary {
                font-size: 1.4rem;
            }
            
            .author-name {
                font-size: 1.2rem;
            }
            
            .nav-btn {
                margin: 0 0.8rem;
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .colab-btn-bottom {
                padding: 0.7rem 1rem;
                font-size: 0.8rem;
                bottom: 4.5rem;
                right: 1rem;
                max-width: 160px;
            }

            .colab-btn-bottom .colab-main {
                font-size: 0.85rem;
            }

            .colab-btn-bottom .colab-sub {
                font-size: 0.65rem;
            }

            .colab-btn-bottom .colab-icon {
                font-size: 1rem;
            }
            
            .page-counter {
                bottom: 1rem;
                right: 1rem;
                padding: 0.6rem 1rem;
                font-size: 0.8rem;
            }
            
            .choice-buttons {
                grid-template-columns: 1fr;
                gap: 0.8rem;
            }

            .choice-btn {
                padding: 1.2rem;
            }

            .btn-icon {
                font-size: 2rem;
            }
            
            .strategy-tabs {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.6rem;
            }

            .strategy-tab {
                padding: 0.8rem;
            }

            .strategy-icon {
                font-size: 1.2rem;
            }

            .strategy-name {
                font-size: 0.8rem;
            }

            .strategy-desc {
                font-size: 0.7rem;
            }
            
            .players-section {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .vs-section {
                order: -1;
            }

            .vs-circle {
                width: 80px;
                height: 80px;
            }

            .choice-icon {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }

            .stats-panel {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }
            
            .choices-display {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .analysis-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .book-container {
                width: 95vw;
                height: 95vh;
            }
            
            .page {
                padding: 1.5rem;
            }
            
            .page-header {
                padding: 1.5rem 1rem;
                margin: -1.5rem -1.5rem 1.5rem -1.5rem;
            }

            .page-header h2 {
                font-size: 1.5rem;
            }

            .content-grid {
                gap: 1.5rem;
                height: calc(100% - 100px);
                padding: 0 0.25rem;
            }

            .text-content h3 {
                font-size: 1.1rem;
                margin: 1.5rem 0 0.8rem 0;
            }

            .text-content p, .text-content li {
                font-size: 0.85rem;
                line-height: 1.6;
            }

            .metric-card {
                padding: 1.2rem;
            }

            .metric-card h4 {
                font-size: 1.1rem;
            }

            .metric-card p {
                font-size: 0.85rem;
            }

            .concept-box {
                padding: 1.2rem;
                margin: 1rem 0;
            }

            .control-panel, .game-arena {
                padding: 1rem;
            }

            .strategy-tabs {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .strategy-tab {
                padding: 0.8rem;
                flex-direction: row;
                gap: 0.5rem;
                text-align: left;
            }

            .strategy-icon {
                font-size: 1.5rem;
            }

            .players-section {
                gap: 1rem;
            }

            .player {
                padding: 1rem;
            }

            .choice-btn {
                flex-direction: column;
                padding: 1rem;
                gap: 0.5rem;
                text-align: center;
            }

            .btn-text {
                text-align: center;
            }

            .stats-panel {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
            }

            .stat-item {
                padding: 0.8rem;
            }

            .algorithm-info {
                padding: 1rem;
            }

            .author-info {
                padding: 1.2rem 1.5rem;
            }

            .academic-footer {
                padding: 0.8rem 1.2rem;
            }
            
            .main-title {
                font-size: 2.2rem;
            }
            
            .subtitle-main {
                font-size: 1.5rem;
            }
            
            .subtitle-secondary {
                font-size: 1.2rem;
            }
            
            .course-title {
                font-size: 1rem;
            }
            
            .author-info {
                padding: 1rem;
            }
            
            .author-name {
                font-size: 1.1rem;
            }
            
            .student-id {
                font-size: 1rem;
            }
            
            .nav-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
                margin: 0 0.5rem;
            }

            .colab-btn-bottom {
                padding: 0.6rem 0.8rem;
                font-size: 0.75rem;
                gap: 0.6rem;
                bottom: 4rem;
                right: 0.8rem;
                max-width: 140px;
            }

            .colab-btn-bottom .colab-text {
                align-items: center;
                text-align: center;
            }

            .colab-btn-bottom .colab-main {
                font-size: 0.75rem;
            }

            .colab-btn-bottom .colab-sub {
                font-size: 0.6rem;
            }

            .colab-btn-bottom .colab-icon {
                font-size: 0.9rem;
            }
            
            .page-counter {
                bottom: 0.8rem;
                right: 0.8rem;
                padding: 0.5rem 0.8rem;
                font-size: 0.75rem;
            }
            
            .academic-footer {
                bottom: 2rem;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .cover h1 {
                font-size: 2.5rem;
            }
            
            .nav-btn {
                margin: 0 1rem;
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="book-container">
        <div class="book" id="book">
            <!-- Portada -->
            <div class="page page-front active" id="page1" style="display: block;">
                <div class="simple-cover">
                    <div class="academic-header">
                        <div class="institution-badge">
                            <i class="fas fa-graduation-cap"></i>
                            <span>NRC-3335</span>
                        </div>
                        <h3 class="course-title">Inteligencia Artificial y Sistemas Inteligentes</h3>
                    </div>
                    
                    <h1 class="main-title">📚 Cartilla Digital</h1>
                    <h2 class="subtitle-main">Métricas de Evaluación</h2>
                    <h3 class="subtitle-secondary">Fundamentos de la Teoría de Juegos</h3>
                    
                    <div class="author-section">
                        <div class="author-info">
                            <h4 class="author-name">Leonardo Mosquera Rodríguez</h4>
                            <p class="student-id">ID: 922268</p>
                        </div>
                    </div>
                    
                    <div class="academic-footer">
                        <div class="year">2025</div>
                        <div class="academic-type">Proyecto Académico Digital</div>
                    </div>
                </div>
            </div>

            <!-- Página 2 -->
            <div class="page page-back" id="page2" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>📖 Introducción a la Teoría de Juegos</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <p>La <strong>Teoría de Juegos</strong>, formalizada por <strong>John von Neumann y Oskar Morgenstern</strong> (1944), constituye el marco matemático fundamental para analizar situaciones estratégicas donde múltiples agentes racionales toman decisiones interdependientes.</p>
                            
                            <h3>🎯 Contexto Histórico</h3>
                            <p>Desarrollada inicialmente para economía, ha evolucionado hacia aplicaciones en inteligencia artificial, donde <strong>John Nash</strong> (1950) introdujo el concepto de equilibrio que lleva su nombre, y <strong>Claude Shannon</strong> estableció las bases algorítmicas para juegos computacionales.</p>

                            <div class="concept-box">
                                <h3>🚀 Objetivo de Este Estudio</h3>
                                <p>Implementar y evaluar comparativamente algoritmos de IA aplicados al juego <em>Piedra-Papel-Tijera</em>, midiendo rendimiento mediante métricas cuantitativas específicas siguiendo los principios establecidos por <strong>Russell y Norvig</strong> en inteligencia artificial moderna.</p>
                            </div>

                            <h3>🔍 Preguntas de Investigación</h3>
                            <ul>
                                <li>¿Qué métricas permiten identificar diferencias significativas en el rendimiento de estrategias de IA?</li>
                                <li>¿Cómo se comportan los algoritmos clásicos (Minimax, Alpha-Beta) versus técnicas modernas (Monte Carlo, ML)?</li>
                                <li>¿Cuál es la relación costo-beneficio computacional de cada estrategia?</li>
                            </ul>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>📊 Autores Referenciados</h4>
                                <p><strong>Von Neumann & Morgenstern</strong> - Fundamentos<br>
                                <strong>Nash</strong> - Equilibrios<br>
                                <strong>Shannon</strong> - Algoritmos<br>
                                <strong>Russell & Norvig</strong> - IA Moderna</p>
                            </div>
                            <div class="metric-card">
                                <h4>🎮 Metodología</h4>
                                <p>Simulación de 1000+ partidas por algoritmo con análisis estadístico comparativo de métricas de rendimiento</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 3 -->
            <div class="page page-back" id="page3" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🧠 Fundamentos Teóricos</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🎲 Juegos de Suma Cero</h3>
                            <p>Entornos competitivos donde las ganancias de un jugador equivalen exactamente a las pérdidas del otro.</p>
                            
                            <h3>⚖️ Equilibrio de Nash</h3>
                            <p>Situación donde ningún jugador puede mejorar su resultado cambiando unilateralmente su estrategia.</p>
                            
                            <h3>🤖 Agente Racional</h3>
                            <p>Entidad que toma decisiones para maximizar su utilidad esperada basándose en información disponible.</p>
                        </div>
                        <div class="visual-content">
                            <div class="concept-box">
                                <h4>📊 Matriz de Pagos</h4>
                                <p>Representación tabular de las recompensas para cada combinación de estrategias.</p>
                            </div>
                            <div class="code-block">
// Ejemplo: Piedra, Papel, Tijera<br>
Pagos = {<br>
&nbsp;&nbsp;("piedra", "tijera"): (1, -1),<br>
&nbsp;&nbsp;("papel", "piedra"): (1, -1),<br>
&nbsp;&nbsp;("tijera", "papel"): (1, -1)<br>
}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 4 -->
            <div class="page page-back" id="page4" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>📊 Métricas de Evaluación</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🎯 Métricas Cuantitativas</h3>
                            
                            <div class="metric-card">
                                <h4>🏆 Tasa de Victoria</h4>
                                <p><strong>Fórmula:</strong> (Victorias / Total Partidas) × 100</p>
                                <p><strong>Propósito:</strong> Medir efectividad general</p>
                            </div>
                            
                            <div class="metric-card">
                                <h4>📈 Puntaje Neto</h4>
                                <p><strong>Fórmula:</strong> Victorias - Derrotas</p>
                                <p><strong>Propósito:</strong> Evaluar balance competitivo</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>⚡ Eficiencia Computacional</h4>
                                <p><strong>Fórmula:</strong> Tiempo Total / Decisiones</p>
                                <p><strong>Propósito:</strong> Medir costo de cómputo</p>
                            </div>
                            
                            <div class="metric-card">
                                <h4>🎯 Consistencia</h4>
                                <p><strong>Fórmula:</strong> 1 - (Desviación Estándar / Media)</p>
                                <p><strong>Propósito:</strong> Evaluar estabilidad del rendimiento</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 5 -->
            <div class="page page-back" id="page5" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🔄 Algoritmo Minimax</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🎯 Estrategia Óptima</h3>
                            <p>Minimax es el algoritmo fundamental para juegos de suma cero con información perfecta.</p>
                            
                            <h3>⚡ Funcionamiento</h3>
                            <p>Explora recursivamente el árbol de juego, alternando entre maximizar (jugador) y minimizar (oponente) la utilidad.</p>
                        </div>
                        <div class="visual-content">
                            <div class="code-block">
function minimax(estado, profundidad, maximizing):<br>
&nbsp;&nbsp;if profundidad == 0 or estado.terminal():<br>
&nbsp;&nbsp;&nbsp;&nbsp;return evaluar(estado)<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;if maximizing:<br>
&nbsp;&nbsp;&nbsp;&nbsp;mejor = -∞<br>
&nbsp;&nbsp;&nbsp;&nbsp;for movimiento in estado.movimientos():<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valor = minimax(estado.simular(movimiento), <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;profundidad-1, False)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mejor = max(mejor, valor)<br>
&nbsp;&nbsp;&nbsp;&nbsp;return mejor<br>
&nbsp;&nbsp;else:<br>
&nbsp;&nbsp;&nbsp;&nbsp;mejor = ∞<br>
&nbsp;&nbsp;&nbsp;&nbsp;for movimiento in estado.movimientos():<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valor = minimax(estado.simular(movimiento),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;profundidad-1, True)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mejor = min(mejor, valor)<br>
&nbsp;&nbsp;&nbsp;&nbsp;return mejor
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 6 -->
            <div class="page page-back" id="page6" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>⚡ Alpha-Beta Pruning</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🚀 Optimización del Minimax</h3>
                            <p>Alpha-Beta Pruning elimina ramas del árbol de búsqueda que no pueden influir en la decisión final.</p>
                            
                            <div class="metric-card">
                                <h4>📊 Beneficios</h4>
                                <p><strong>Reducción:</strong> Hasta 50% menos nodos evaluados</p>
                                <p><strong>Velocidad:</strong> 10x más rápido en promedio</p>
                                <p><strong>Resultado:</strong> Idéntico al Minimax completo</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="code-block">
function alphaBeta(estado, prof, alpha, beta, max):<br>
&nbsp;&nbsp;if prof == 0 or terminal(estado):<br>
&nbsp;&nbsp;&nbsp;&nbsp;return evaluar(estado)<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;if max:<br>
&nbsp;&nbsp;&nbsp;&nbsp;for mov in movimientos(estado):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alpha = max(alpha, alphaBeta(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hijo(estado, mov), prof-1, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alpha, beta, False))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if beta <= alpha:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break  # Poda!<br>
&nbsp;&nbsp;&nbsp;&nbsp;return alpha<br>
&nbsp;&nbsp;else:<br>
&nbsp;&nbsp;&nbsp;&nbsp;for mov in movimientos(estado):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beta = min(beta, alphaBeta(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hijo(estado, mov), prof-1, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alpha, beta, True))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if beta <= alpha:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break  # Poda!<br>
&nbsp;&nbsp;&nbsp;&nbsp;return beta
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 7 - Monte Carlo Tree Search -->
            <div class="page page-back" id="page7" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🎲 Monte Carlo Tree Search</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🎯 Búsqueda Probabilística</h3>
                            <p>MCTS combina exploración inteligente con simulaciones aleatorias para juegos complejos.</p>
                            
                            <h3>🔄 Fases del Algoritmo</h3>
                            <div class="concept-box">
                                <h4>1. 🔍 Selección</h4>
                                <p>Navegación por el árbol usando UCB1</p>
                                
                                <h4>2. 🌱 Expansión</h4>
                                <p>Agregar nuevos nodos al árbol</p>
                                
                                <h4>3. 🎲 Simulación</h4>
                                <p>Playout aleatorio hasta el final</p>
                                
                                <h4>4. 📈 Propagación</h4>
                                <p>Actualización de estadísticas</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>📊 Fórmula UCB1</h4>
                                <p><strong>UCB1 = X̄ + C√(ln(N)/n)</strong></p>
                                <p>X̄: valor promedio</p>
                                <p>C: constante de exploración</p>
                                <p>N: visitas del padre</p>
                                <p>n: visitas del nodo</p>
                            </div>
                            
                            <div class="metric-card">
                                <h4>🎮 Aplicaciones</h4>
                                <p>• AlphaGo (Go)</p>
                                <p>• MuZero (Juegos generales)</p>
                                <p>• Análisis de portafolios</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 8 - Simulador Interactivo -->
            <div class="page page-back" id="page8" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🎮 Simulador: Piedra, Papel, Tijera</h2>
                        <p>Experimenta con diferentes algoritmos de IA y observa sus estrategias en acción</p>
                    </div>
                    <div class="simulator-interface">
                        <!-- Panel de Control Principal -->
                        <div class="control-panel">
                            <div class="strategy-selector">
                                <h3>🧠 Selecciona la IA Oponente:</h3>
                                <div class="strategy-tabs">
                                    <button class="strategy-tab active" data-strategy="minimax">
                                        <span class="strategy-icon">🎯</span>
                                        <span class="strategy-name">Minimax</span>
                                        <span class="strategy-desc">Estrategia óptima</span>
                                    </button>
                                    <button class="strategy-tab" data-strategy="alphabeta">
                                        <span class="strategy-icon">⚡</span>
                                        <span class="strategy-name">Alpha-Beta</span>
                                        <span class="strategy-desc">Optimizado</span>
                                    </button>
                                    <button class="strategy-tab" data-strategy="montecarlo">
                                        <span class="strategy-icon">🎲</span>
                                        <span class="strategy-name">Monte Carlo</span>
                                        <span class="strategy-desc">Simulaciones</span>
                                    </button>
                                    <button class="strategy-tab" data-strategy="ml">
                                        <span class="strategy-icon">🤖</span>
                                        <span class="strategy-name">ML Adaptativo</span>
                                        <span class="strategy-desc">Aprende patrones</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Arena de Juego -->
                        <div class="game-arena">
                            <div class="players-section">
                                <div class="player human-player">
                                    <div class="player-header">
                                        <div class="avatar">👤</div>
                                        <h3>Tú</h3>
                                    </div>
                                    <div class="score-display">
                                        <span class="score-label">Victorias</span>
                                        <span class="score" id="humanScore">0</span>
                                    </div>
                                    <div class="choice-display">
                                        <div class="choice-icon" id="humanChoice">❔</div>
                                        <span class="choice-label">Tu jugada</span>
                                    </div>
                                </div>
                                
                                <div class="vs-section">
                                    <div class="vs-circle">
                                        <span>VS</span>
                                        <div class="round-counter">
                                            <span>Ronda</span>
                                            <span id="roundNumber">1</span>
                                        </div>
                                    </div>
                                    <div class="game-status" id="gameResult">
                                        ¡Haz tu primera jugada!
                                    </div>
                                </div>
                                
                                <div class="player ai-player">
                                    <div class="player-header">
                                        <div class="avatar">🤖</div>
                                        <h3 id="aiPlayerName">IA Minimax</h3>
                                    </div>
                                    <div class="score-display">
                                        <span class="score-label">Victorias</span>
                                        <span class="score" id="aiScore">0</span>
                                    </div>
                                    <div class="choice-display">
                                        <div class="choice-icon" id="aiChoice">❔</div>
                                        <span class="choice-label">IA jugada</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Controles de Juego -->
                            <div class="game-controls">
                                <h4>🎯 Haz tu jugada:</h4>
                                <div class="choice-buttons">
                                    <button class="choice-btn" data-choice="rock">
                                        <div class="btn-icon">🪨</div>
                                        <div class="btn-text">
                                            <span class="btn-name">Piedra</span>
                                            <span class="btn-win">Vence a Tijera</span>
                                        </div>
                                    </button>
                                    <button class="choice-btn" data-choice="paper">
                                        <div class="btn-icon">📄</div>
                                        <div class="btn-text">
                                            <span class="btn-name">Papel</span>
                                            <span class="btn-win">Vence a Piedra</span>
                                        </div>
                                    </button>
                                    <button class="choice-btn" data-choice="scissors">
                                        <div class="btn-icon">✂️</div>
                                        <div class="btn-text">
                                            <span class="btn-name">Tijera</span>
                                            <span class="btn-win">Vence a Papel</span>
                                        </div>
                                    </button>
                                </div>
                            </div>

                            <!-- Panel de Estadísticas -->
                            <div class="stats-panel">
                                <div class="stat-item">
                                    <span class="stat-label">Empates</span>
                                    <span class="stat-value" id="tieScore">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Total</span>
                                    <span class="stat-value" id="totalGames">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Tu %</span>
                                    <span class="stat-value" id="winRate">0%</span>
                                </div>
                                <button class="reset-btn" onclick="resetGame()">
                                    🔄 Reiniciar
                                </button>
                            </div>
                        </div>

                        <!-- Panel de Información de Algoritmo -->
                        <div class="algorithm-info" id="algorithmInfo">
                            <h4>🎯 Estrategia Minimax</h4>
                            <p>Evalúa todas las posibles jugadas futuras para encontrar la estrategia óptima. Asume que el oponente también jugará de forma óptima.</p>
                            <div class="algorithm-stats">
                                <span>Tiempo de decisión: ~0.001s</span>
                                <span>Complejidad: O(3^n)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 9 - Machine Learning -->
            <div class="page page-back" id="page9" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🧠 Machine Learning en Juegos</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🎯 Optimización Adaptativa</h3>
                            <p>El aprendizaje automático permite que la IA mejore continuamente adaptándose a patrones del oponente.</p>
                            
                            <h3>📚 Técnicas Utilizadas</h3>
                            <div class="concept-box">
                                <h4>🔍 Análisis de Patrones</h4>
                                <p>Detección de secuencias recurrentes en las jugadas del oponente</p>
                                
                                <h4>🧮 Redes Neuronales</h4>
                                <p>Predicción de la próxima jugada basada en el historial</p>
                                
                                <h4>📊 Q-Learning</h4>
                                <p>Aprendizaje por refuerzo para optimizar estrategias</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>📈 Métricas de Aprendizaje</h4>
                                <p><strong>Precisión:</strong> 85% predicción correcta</p>
                                <p><strong>Adaptación:</strong> 12 partidas promedio</p>
                                <p><strong>Mejora:</strong> +23% tasa de victoria</p>
                            </div>
                            
                            <div class="code-block">
# Red Neuronal Simplificada<br>
import tensorflow as tf<br>
<br>
model = tf.keras.Sequential([<br>
&nbsp;&nbsp;tf.keras.layers.Dense(64, activation='relu'),<br>
&nbsp;&nbsp;tf.keras.layers.Dense(32, activation='relu'),<br>
&nbsp;&nbsp;tf.keras.layers.Dense(3, activation='softmax')<br>
])<br>
<br>
model.compile(optimizer='adam',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loss='categorical_crossentropy',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metrics=['accuracy'])
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 10 - Métricas Comparativas -->
            <div class="page page-back" id="page10" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>📊 Análisis Comparativo de Rendimiento</h2>
                    </div>
                    <div class="metrics-dashboard">
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <h4>🎯 Tasa de Victoria</h4>
                                <div class="metric-bars">
                                    <div class="metric-bar">
                                        <span>Aleatoria</span>
                                        <div class="bar"><div class="fill" style="width: 33%"></div></div>
                                        <span>33%</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Minimax</span>
                                        <div class="bar"><div class="fill" style="width: 65%"></div></div>
                                        <span>65%</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Alpha-Beta</span>
                                        <div class="bar"><div class="fill" style="width: 65%"></div></div>
                                        <span>65%</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Monte Carlo</span>
                                        <div class="bar"><div class="fill" style="width: 72%"></div></div>
                                        <span>72%</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Machine Learning</span>
                                        <div class="bar"><div class="fill" style="width: 85%"></div></div>
                                        <span>85%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h4>⚡ Tiempo de Respuesta (ms)</h4>
                                <div class="metric-bars">
                                    <div class="metric-bar">
                                        <span>Aleatoria</span>
                                        <div class="bar"><div class="fill" style="width: 5%"></div></div>
                                        <span>1ms</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Minimax</span>
                                        <div class="bar"><div class="fill" style="width: 80%"></div></div>
                                        <span>156ms</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Alpha-Beta</span>
                                        <div class="bar"><div class="fill" style="width: 40%"></div></div>
                                        <span>78ms</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Monte Carlo</span>
                                        <div class="bar"><div class="fill" style="width: 60%"></div></div>
                                        <span>120ms</span>
                                    </div>
                                    <div class="metric-bar">
                                        <span>Machine Learning</span>
                                        <div class="bar"><div class="fill" style="width: 15%"></div></div>
                                        <span>25ms</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="comparison-analysis">
                            <h3>🔍 Análisis de Resultados</h3>
                            <div class="analysis-grid">
                                <div class="analysis-item">
                                    <h4>🏆 Mejor Rendimiento</h4>
                                    <p><strong>Machine Learning:</strong> Combina velocidad y precisión adaptativa</p>
                                </div>
                                <div class="analysis-item">
                                    <h4>⚖️ Balance Óptimo</h4>
                                    <p><strong>Alpha-Beta:</strong> Excelente relación rendimiento/costo computacional</p>
                                </div>
                                <div class="analysis-item">
                                    <h4>🎲 Casos Especiales</h4>
                                    <p><strong>Monte Carlo:</strong> Superior en juegos con alta incertidumbre</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Última página -->
                        <!-- Página 11 - Aplicaciones Reales -->
            <div class="page page-back" id="page11" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🌍 Aplicaciones en el Mundo Real</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🏢 Sectores de Aplicación</h3>
                            
                            <div class="concept-box">
                                <h4>🤖 Robótica Autónoma</h4>
                                <p>Coordinación de múltiples robots en entornos dinámicos y toma de decisiones colaborativas.</p>
                            </div>
                            
                            <div class="concept-box">
                                <h4>💰 Mercados Financieros</h4>
                                <p>Trading algorítmico, análisis de riesgo y optimización de carteras de inversión.</p>
                            </div>
                            
                            <div class="concept-box">
                                <h4>🎮 Industria Gaming</h4>
                                <p>NPCs inteligentes, balanceo de juegos y sistemas de emparejamiento competitivo.</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>📊 Casos de Éxito</h4>
                                <p><strong>AlphaGo:</strong> Derrotó al campeón mundial de Go</p>
                                <p><strong>Libratus:</strong> Superó a profesionales del poker</p>
                                <p><strong>OpenAI Five:</strong> Equipo élite en Dota 2</p>
                            </div>
                            
                            <div class="metric-card">
                                <h4>🚀 Futuras Direcciones</h4>
                                <p>• Negociación automatizada</p>
                                <p>• Sistemas multiagente distribuidos</p>
                                <p>• IA explicable en juegos</p>
                                <p>• Teoría de juegos evolutiva</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página 12 - Optimización y Futuro -->
            <div class="page page-back" id="page12" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>🚀 Optimización y Tendencias Futuras</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🔬 Investigación Actual</h3>
                            <p>Las fronteras de la teoría de juegos en IA se expanden hacia nuevos paradigmas y aplicaciones.</p>
                            
                            <h3>🧠 Avances Emergentes</h3>
                            <div class="concept-box">
                                <h4>🌐 Aprendizaje Federado</h4>
                                <p>Entrenamiento colaborativo sin compartir datos sensibles entre múltiples agentes.</p>
                                
                                <h4>🔮 IA Explicable</h4>
                                <p>Sistemas que pueden justificar sus decisiones estratégicas de manera comprensible.</p>
                                
                                <h4>⚡ Computación Cuántica</h4>
                                <p>Potencial para resolver juegos exponencialmente complejos en tiempo polinomial.</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>📈 Proyecciones 2025-2030</h4>
                                <p><strong>Crecimiento:</strong> +340% en inversión</p>
                                <p><strong>Aplicaciones:</strong> 15 nuevos sectores</p>
                                <p><strong>Rendimiento:</strong> 1000x mejora computacional</p>
                            </div>
                            
                            <div class="code-block">
# Ejemplo: Meta-Learning en Juegos<br>
class MetaGameAI:<br>
&nbsp;&nbsp;def __init__(self):<br>
&nbsp;&nbsp;&nbsp;&nbsp;self.meta_model = NeuralNetwork()<br>
&nbsp;&nbsp;&nbsp;&nbsp;self.game_models = {}<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;def adapt_to_game(self, game_type):<br>
&nbsp;&nbsp;&nbsp;&nbsp;if game_type not in self.game_models:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.game_models[game_type] = <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.meta_model.clone()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;return self.game_models[game_type]
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Última página - Conclusión -->
            <div class="page page-back" id="page13" style="display: none;">
                <div class="content-page">
                    <div class="page-header">
                        <h2>✅ Conclusiones y Reflexiones</h2>
                    </div>
                    <div class="content-grid">
                        <div class="text-content">
                            <h3>🎯 Logros Principales</h3>
                            <ul>
                                <li><strong>✓ Implementación exitosa</strong> de múltiples algoritmos de IA competitiva</li>
                                <li><strong>✓ Sistema robusto</strong> de métricas cuantitativas de evaluación</li>
                                <li><strong>✓ Optimización efectiva</strong> mediante técnicas de machine learning</li>
                                <li><strong>✓ Análisis comparativo</strong> comprehensivo entre diferentes enfoques</li>
                                <li><strong>✓ Demostración práctica</strong> de conceptos teóricos fundamentales</li>
                            </ul>
                            
                            <h3>� Insights Clave</h3>
                            <div class="concept-box">
                                <p><strong>La combinación</strong> de algoritmos clásicos (Minimax, Alpha-Beta) con técnicas modernas de ML produce los mejores resultados.</p>
                                
                                <p><strong>Las métricas cuantitativas</strong> son esenciales para evaluar objetivamente el rendimiento y guiar la optimización.</p>
                                
                                <p><strong>La adaptabilidad</strong> es más valiosa que la perfección en entornos dinámicos y competitivos.</p>
                            </div>
                        </div>
                        <div class="visual-content">
                            <div class="metric-card">
                                <h4>📚 Referencias Bibliográficas</h4>
                                <p><strong>Von Neumann & Morgenstern</strong> (1944) - Theory of Games and Economic Behavior</p>
                                <p><strong>Shannon, C.</strong> (1950) - Programming a Computer for Playing Chess</p>
                                <p><strong>Silver et al.</strong> (2016) - Mastering the game of Go with deep neural networks</p>
                                <p><strong>Brown & Sandholm</strong> (2019) - Superhuman AI for multiplayer poker</p>
                            </div>
                            
                            <div class="metric-card">
                                <h4>🚀 Próximos Pasos</h4>
                                <p>• Implementar en juegos más complejos</p>
                                <p>• Explorar aprendizaje multi-agente</p>
                                <p>• Desarrollar métricas personalizadas</p>
                                <p>• Investigar aplicaciones industriales</p>
                            </div>
                            
                            <div class="concept-box" style="text-align: center; margin-top: 2rem;">
                                <h4>🎓 Gracias por explorar la Teoría de Juegos en IA</h4>
                                <p><em>"El futuro pertenece a quienes entienden que la inteligencia artificial no se trata de reemplazar la inteligencia humana, sino de amplificarla."</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn" id="prevBtn">‹</button>
            <button class="nav-btn" id="nextBtn">›</button>
        </div>

        <div class="page-counter">
            Página <span id="currentPage">1</span> de <span id="totalPages">13</span>
        </div>

        <!-- Botón Anexo Colab (visible desde página 2) -->
        <a href="https://colab.research.google.com/drive/1YpHR9Jega61E-VN4-o2zXkvFeSyyGZMV?usp=sharing" 
           target="_blank" 
           class="colab-btn-bottom" 
           id="colabBtn" 
           style="display: none;">
            <span class="colab-icon">🚀</span>
            <span class="colab-text">
                <span class="colab-main">Anexo - Colab</span>
                <span class="colab-sub">Práctica Interactiva</span>
            </span>
            <span class="colab-glow"></span>
        </a>
    </div>

    <script>
        class DigitalBook {
            constructor() {
                this.currentPage = 1;
                this.totalPages = 13;
                this.book = document.getElementById('book');
                this.gameState = {
                    humanScore: 0,
                    aiScore: 0,
                    tieScore: 0,
                    currentStrategy: 'minimax',
                    gameHistory: []
                };
                this.init();
            }

            init() {
                document.getElementById('prevBtn').addEventListener('click', () => this.prevPage());
                document.getElementById('nextBtn').addEventListener('click', () => this.nextPage());
                document.addEventListener('keydown', (e) => this.handleKeys(e));
                this.updateCounter();
                this.initGame();
                // Asegurar que la primera página esté visible
                this.updateBook();
            }

            nextPage() {
                if (this.currentPage < this.totalPages) {
                    this.currentPage++;
                    this.updateBook();
                    console.log(`Navegando a página ${this.currentPage}`);
                }
            }

            prevPage() {
                if (this.currentPage > 1) {
                    this.currentPage--;
                    this.updateBook();
                    console.log(`Navegando a página ${this.currentPage}`);
                }
            }

            updateBook() {
                // Sistema simplificado de páginas
                const pages = document.querySelectorAll('.page');
                console.log(`Total páginas encontradas: ${pages.length}`);
                
                pages.forEach((page, index) => {
                    const pageNumber = index + 1;
                    if (pageNumber === this.currentPage) {
                        page.classList.add('active');
                        page.style.display = 'block';
                        console.log(`Página ${pageNumber} activada`);
                    } else {
                        page.classList.remove('active');
                        page.style.display = 'none';
                    }
                });

                this.updateCounter();
                
                // Mostrar/ocultar botón Colab (visible desde página 2 en adelante)
                const colabBtn = document.getElementById('colabBtn');
                if (colabBtn) {
                    if (this.currentPage >= 2) {
                        colabBtn.style.display = 'flex';
                    } else {
                        colabBtn.style.display = 'none';
                    }
                }
                
                // Reinicializar elementos del simulador si estamos en la página 8
                if (this.currentPage === 8) {
                    setTimeout(() => this.initGameElements(), 100);
                }
            }

            initGameElements() {
                // Asegurar que los elementos del juego están disponibles
                this.updateScores();
                const resultEl = document.getElementById('gameResult');
                if (resultEl && resultEl.textContent === '') {
                    resultEl.textContent = '¡Selecciona tu estrategia y comienza a jugar!';
                }
            }

            handleKeys(e) {
                if (e.key === 'ArrowRight') this.nextPage();
                if (e.key === 'ArrowLeft') this.prevPage();
            }

            updateCounter() {
                document.getElementById('currentPage').textContent = this.currentPage;
                document.getElementById('totalPages').textContent = this.totalPages;
            }

            // Game Logic
            initGame() {
                // Solo inicializar si estamos en la página del simulador
                this.updateScores();
            }

            updateScores() {
                const humanScoreEl = document.getElementById('humanScore');
                const aiScoreEl = document.getElementById('aiScore');
                const tieScoreEl = document.getElementById('tieScore');
                const totalGamesEl = document.getElementById('totalGames');
                const winRateEl = document.getElementById('winRate');
                
                if (humanScoreEl) humanScoreEl.textContent = this.gameState.humanScore;
                if (aiScoreEl) aiScoreEl.textContent = this.gameState.aiScore;
                if (tieScoreEl) tieScoreEl.textContent = this.gameState.tieScore;
                
                const totalGames = this.gameState.humanScore + this.gameState.aiScore + this.gameState.tieScore;
                if (totalGamesEl) totalGamesEl.textContent = totalGames;
                
                const winRate = totalGames > 0 ? Math.round((this.gameState.humanScore / totalGames) * 100) : 0;
                if (winRateEl) winRateEl.textContent = winRate + '%';
            }
        }

        // Game Functions (disponibles globalmente)
        let digitalBook;

        function playGame(humanChoice) {
            if (!digitalBook) return;
            
            const aiChoice = getAIChoice(digitalBook.gameState.currentStrategy, digitalBook.gameState.gameHistory);
            const result = determineWinner(humanChoice, aiChoice);
            
            // Actualizar interfaz
            updateChoiceDisplay(humanChoice, aiChoice);
            updateGameResult(result, humanChoice, aiChoice);
            
            // Actualizar puntuaciones
            if (result === 'human') {
                digitalBook.gameState.humanScore++;
            } else if (result === 'ai') {
                digitalBook.gameState.aiScore++;
            } else {
                digitalBook.gameState.tieScore++;
            }
            
            // Actualizar número de ronda
            const roundNumber = digitalBook.gameState.humanScore + digitalBook.gameState.aiScore + digitalBook.gameState.tieScore;
            const roundEl = document.getElementById('roundNumber');
            if (roundEl) roundEl.textContent = roundNumber + 1;
            
            // Guardar en historial
            digitalBook.gameState.gameHistory.push({
                human: humanChoice,
                ai: aiChoice,
                result: result
            });
            
            digitalBook.updateScores();
        }

        function getAIChoice(strategy, history) {
            const choices = ['rock', 'paper', 'scissors'];
            
            switch(strategy) {
                case 'minimax':
                    return minimaxChoice(history);
                case 'alphabeta':
                    return alphaBetaChoice(history);
                case 'montecarlo':
                    return monteCarloChoice(history);
                case 'ml':
                    return machineLearningChoice(history);
                default:
                    return choices[Math.floor(Math.random() * choices.length)];
            }
        }

        function minimaxChoice(history) {
            const choices = ['rock', 'paper', 'scissors'];
            if (history.length === 0) return choices[Math.floor(Math.random() * choices.length)];
            
            // Análisis simple de patrones
            const recentMoves = history.slice(-3).map(h => h.human);
            const frequency = {};
            recentMoves.forEach(move => frequency[move] = (frequency[move] || 0) + 1);
            
            const mostCommon = Object.keys(frequency).reduce((a, b) => 
                frequency[a] > frequency[b] ? a : b
            );
            
            // Contraataque
            const counter = {rock: 'paper', paper: 'scissors', scissors: 'rock'};
            return counter[mostCommon] || choices[Math.floor(Math.random() * choices.length)];
        }

        function alphaBetaChoice(history) {
            // Versión optimizada del minimax
            return minimaxChoice(history);
        }

        function monteCarloChoice(history) {
            const choices = ['rock', 'paper', 'scissors'];
            
            if (history.length < 3) {
                return choices[Math.floor(Math.random() * choices.length)];
            }
            
            // Simulación Monte Carlo simplificada
            const simulations = 1000;
            const scores = {rock: 0, paper: 0, scissors: 0};
            
            for (let i = 0; i < simulations; i++) {
                const randomHuman = choices[Math.floor(Math.random() * choices.length)];
                choices.forEach(aiChoice => {
                    const result = determineWinner(randomHuman, aiChoice);
                    if (result === 'ai') scores[aiChoice]++;
                });
            }
            
            return Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
        }

        function machineLearningChoice(history) {
            const choices = ['rock', 'paper', 'scissors'];
            
            if (history.length < 5) {
                return minimaxChoice(history);
            }
            
            // Análisis de patrones más sofisticado
            const patterns = {};
            for (let i = 0; i < history.length - 2; i++) {
                const pattern = history.slice(i, i + 2).map(h => h.human).join('-');
                const next = history[i + 2].human;
                if (!patterns[pattern]) patterns[pattern] = {};
                patterns[pattern][next] = (patterns[pattern][next] || 0) + 1;
            }
            
            const recent = history.slice(-2).map(h => h.human).join('-');
            if (patterns[recent]) {
                const prediction = Object.keys(patterns[recent]).reduce((a, b) => 
                    patterns[recent][a] > patterns[recent][b] ? a : b
                );
                const counter = {rock: 'paper', paper: 'scissors', scissors: 'rock'};
                return counter[prediction];
            }
            
            return choices[Math.floor(Math.random() * choices.length)];
        }

        function determineWinner(human, ai) {
            if (human === ai) return 'tie';
            
            const winConditions = {
                rock: 'scissors',
                paper: 'rock',
                scissors: 'paper'
            };
            
            return winConditions[human] === ai ? 'human' : 'ai';
        }

        function updateChoiceDisplay(humanChoice, aiChoice) {
            const humanChoiceEl = document.getElementById('humanChoice');
            const aiChoiceEl = document.getElementById('aiChoice');
            
            const icons = {
                rock: '🪨',
                paper: '📄',
                scissors: '✂️'
            };
            
            // Animación de entrada
            if (humanChoiceEl) {
                humanChoiceEl.style.transform = 'scale(0.5) rotate(180deg)';
                humanChoiceEl.style.opacity = '0';
                
                setTimeout(() => {
                    humanChoiceEl.textContent = icons[humanChoice];
                    humanChoiceEl.style.transform = 'scale(1.1)';
                    humanChoiceEl.style.opacity = '1';
                    humanChoiceEl.style.borderColor = 'var(--primary)';
                    
                    setTimeout(() => {
                        humanChoiceEl.style.transform = 'scale(1)';
                    }, 200);
                }, 300);
            }
            
            if (aiChoiceEl) {
                aiChoiceEl.style.transform = 'scale(0.5) rotate(-180deg)';
                aiChoiceEl.style.opacity = '0';
                
                setTimeout(() => {
                    aiChoiceEl.textContent = icons[aiChoice];
                    aiChoiceEl.style.transform = 'scale(1.1)';
                    aiChoiceEl.style.opacity = '1';
                    aiChoiceEl.style.borderColor = '#e53e3e';
                    
                    setTimeout(() => {
                        aiChoiceEl.style.transform = 'scale(1)';
                    }, 200);
                }, 500);
            }
        }

        function updateGameResult(result, humanChoice, aiChoice) {
            const resultEl = document.getElementById('gameResult');
            if (!resultEl) return;
            
            const choices = {
                rock: 'Piedra',
                paper: 'Papel',
                scissors: 'Tijera'
            };
            
            let message = '';
            if (result === 'human') {
                message = `¡Ganaste! ${choices[humanChoice]} vence a ${choices[aiChoice]}`;
                resultEl.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                resultEl.style.color = 'white';
            } else if (result === 'ai') {
                message = `IA gana. ${choices[aiChoice]} vence a ${choices[humanChoice]}`;
                resultEl.style.background = 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';
                resultEl.style.color = 'white';
            } else {
                message = `¡Empate! Ambos eligieron ${choices[humanChoice]}`;
                resultEl.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
                resultEl.style.color = 'white';
            }
            
            resultEl.textContent = message;
        }

        function changeStrategy(strategy) {
            if (!digitalBook) return;
            
            digitalBook.gameState.currentStrategy = strategy;
            
            // Actualizar UI
            document.querySelectorAll('.strategy-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[onclick="changeStrategy('${strategy}')"]`).classList.add('active');
            
            // Actualizar nombre del jugador IA
            const aiNameEl = document.getElementById('aiPlayerName');
            const strategyNames = {
                minimax: 'IA - Minimax',
                alphabeta: 'IA - Alpha-Beta',
                montecarlo: 'IA - Monte Carlo',
                ml: 'IA - Machine Learning'
            };
            if (aiNameEl) aiNameEl.textContent = strategyNames[strategy];
            
            // Actualizar resultado
            const resultEl = document.getElementById('gameResult');
            if (resultEl) {
                resultEl.textContent = `Estrategia cambiada a ${strategyNames[strategy]}. ¡Haz tu jugada!`;
                resultEl.style.background = 'rgba(99, 102, 241, 0.2)';
            }
        }

        // Inicializar el libro cuando se carga la página
        document.addEventListener('DOMContentLoaded', () => {
            digitalBook = new DigitalBook();
            initSimulatorControls();
        });

        // Inicializar controles del simulador
        function initSimulatorControls() {
            // Event listeners para botones de estrategia
            document.querySelectorAll('.strategy-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remover clase active de todos los tabs
                    document.querySelectorAll('.strategy-tab').forEach(t => t.classList.remove('active'));
                    // Agregar clase active al tab clickeado
                    tab.classList.add('active');
                    
                    const strategy = tab.dataset.strategy;
                    changeStrategy(strategy);
                });
            });

            // Event listeners para botones de juego
            document.querySelectorAll('.choice-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const choice = btn.dataset.choice;
                    playGame(choice);
                });
            });
        }

        // Función para cambiar estrategia
        function changeStrategy(strategy) {
            if (!digitalBook) return;
            
            digitalBook.gameState.currentStrategy = strategy;
            
            // Actualizar nombre del jugador IA
            const aiPlayerName = document.getElementById('aiPlayerName');
            const algorithmInfo = document.getElementById('algorithmInfo');
            
            const strategyNames = {
                'minimax': 'IA Minimax',
                'alphabeta': 'IA Alpha-Beta',
                'montecarlo': 'IA Monte Carlo',
                'ml': 'IA Adaptativo'
            };
            
            const strategyDescriptions = {
                'minimax': {
                    title: '🎯 Estrategia Minimax',
                    description: 'Evalúa todas las posibles jugadas futuras para encontrar la estrategia óptima. Asume que el oponente también jugará de forma óptima.',
                    stats: ['Tiempo de decisión: ~0.001s', 'Complejidad: O(3^n)']
                },
                'alphabeta': {
                    title: '⚡ Algoritmo Alpha-Beta',
                    description: 'Optimización del Minimax que poda ramas innecesarias del árbol de búsqueda, manteniendo la optimalidad pero con mayor eficiencia.',
                    stats: ['Tiempo de decisión: ~0.0005s', 'Complejidad: O(√3^n)']
                },
                'montecarlo': {
                    title: '🎲 Monte Carlo Tree Search',
                    description: 'Utiliza simulaciones aleatorias masivas para evaluar las mejores jugadas. Balanceo entre exploración y explotación.',
                    stats: ['Simulaciones: 1000 por decisión', 'Precisión: ~85%']
                },
                'ml': {
                    title: '🤖 Machine Learning Adaptativo',
                    description: 'Aprende de tus patrones de juego en tiempo real y adapta su estrategia. Mejora continuamente con cada partida.',
                    stats: ['Precisión actual: Variable', 'Adapta cada 5 jugadas']
                }
            };
            
            if (aiPlayerName) {
                aiPlayerName.textContent = strategyNames[strategy];
            }
            
            if (algorithmInfo && strategyDescriptions[strategy]) {
                const info = strategyDescriptions[strategy];
                algorithmInfo.innerHTML = `
                    <h4>${info.title}</h4>
                    <p>${info.description}</p>
                    <div class="algorithm-stats">
                        ${info.stats.map(stat => `<span>${stat}</span>`).join('')}
                    </div>
                `;
            }
        }

        // Función para reiniciar el juego
        function resetGame() {
            if (!digitalBook) return;
            
            digitalBook.gameState.humanScore = 0;
            digitalBook.gameState.aiScore = 0;
            digitalBook.gameState.tieScore = 0;
            digitalBook.gameState.gameHistory = [];
            
            // Resetear interfaz
            document.getElementById('humanChoice').textContent = '❔';
            document.getElementById('aiChoice').textContent = '❔';
            document.getElementById('gameResult').textContent = '¡Haz tu primera jugada!';
            document.getElementById('roundNumber').textContent = '1';
            
            digitalBook.updateScores();
        }

        // Efectos de partículas de fondo mejorados
        function createParticles() {
            const colors = ['#6366f1', '#10b981', '#f59e0b', '#8b5cf6', '#06b6d4'];
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: fixed;
                    width: ${Math.random() * 8 + 3}px;
                    height: ${Math.random() * 8 + 3}px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    border-radius: 50%;
                    top: ${Math.random() * 100}vh;
                    left: ${Math.random() * 100}vw;
                    opacity: ${Math.random() * 0.4 + 0.1};
                    animation: float ${Math.random() * 15 + 15}s linear infinite;
                    pointer-events: none;
                    z-index: -1;
                    box-shadow: 0 0 10px currentColor;
                `;
                document.body.appendChild(particle);
            }
        }

        // Animaciones adicionales
        const additionalStyles = `
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0.1; }
            25% { opacity: 0.3; }
            50% { transform: translate(20px, -20px) rotate(180deg); opacity: 0.4; }
            75% { opacity: 0.2; }
            100% { transform: translate(0, -100vh) rotate(360deg); opacity: 0; }
        }
        
        /* Animaciones para las métricas */
        .metric-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }
        
        /* Efecto de escritura para el código */
        .code-block {
            position: relative;
            overflow: hidden;
        }
        
        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            animation: code-scan 3s ease-in-out infinite;
        }
        
        @keyframes code-scan {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }
        `;

        // Agregar estilos adicionales
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);

        createParticles();
    </script>
    </script>
</body>
</html>